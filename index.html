<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>ADIS</title>
	<style>
		/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
		html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}

		body {
			color: #EEE;
			background-color: #1E1E1E;
			font-family: 'Consolas', 'Lucida Console', Monaco, monospace;
		}

		.container {
			width: 90%;
			margin: 0 auto;
		}

		.page-header {
			font-size: 2em;
			color: #EC7600;
		}
	</style>
	<script>

		/**
		 * AngularJS dependency injections sorter
		 * yevhenii.chubar <jenegua@gmail.com>
		 */
		(function() {
			'use strict';

			var dom,
				ignoreDollarSign = false,
				ignoreCase = false;

			init();

			function init() {
				document.addEventListener('DOMContentLoaded', bindHandlers);
			}

			function bindHandlers() {
				dom = {
					input: document.getElementById('input'),
					output1: document.getElementById('output1'),
					output2: document.getElementById('output2'),
					dollarCheckbox: document.getElementById('ignore-dollar'),
					caseCheckbox: document.getElementById('ignore-case')
				};

				dom.input.addEventListener('keyup', formatInput);
				dom.dollarCheckbox.addEventListener('click', switchType);
				dom.caseCheckbox.addEventListener('click', switchType);
			}

			function switchType() {
				ignoreDollarSign = dom.dollarCheckbox.checked;
				ignoreCase = dom.caseCheckbox.checked;
				formatInput();
			}

			function formatInput() {
				var val = dom.input.value;
				val = val.replace(/[^A-Z,$\d_]/gi, '').split(',');
				val = val.filter(function(n){ return n != '' });

				if (val.length) {
					outputData(val);

				} else {
					dom.output1.innerHTML = dom.output2.innerHTML = 'Incorrect input';
				}
			}

			function outputData(val) {
				if (ignoreDollarSign) {
					val = val.sort(function (a, b) {
						a = a.replace('$', '');
						b = b.replace('$', '');
						if (a < b) { return -1; }
						if (a > b) { return 1; }
						return 0;
					});

				} else {
					val = val.sort();
				}

				dom.output1.innerHTML = "DI.$inject = ['" + val.join("', '") + "'];";
				dom.output2.innerHTML = 'function DI (' + val.join(', ') + ') {};';
			}
		}());
	</script>

</head>
<body>

<div class="container">
	<h2 class="page-header">AngularJS dependency injections sorter</h2>

	<div class="conditions">
		<div>
			<input id="ignore-dollar" type="checkbox" value="0" name="type" />
			<label for="ignore-dollar">Ignore $ sign</label>
		</div>
		<div>
			<input id="ignore-case" type="checkbox" value="0" name="type" />
			<label for="ignore-case">Ignore case</label>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label" for="input">Paste your string here</label>
		<textarea rows="5" class="form-control" id="input" placeholder="Input string..."></textarea>
	</div>
	<div class="row">
		<pre class="" id="output1"></pre>
		<pre id="output2"></pre>
	</div>
</div>

</body>
</html>